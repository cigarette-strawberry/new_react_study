<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>äº‹ä»¶åŠäº‹ä»¶å§”æ‰˜</title>

    <style>
      * {
        margin: 0;
        padding: 0;
      }
      html,
      body {
        width: 100%;
        height: 100%;
        overflow: hidden;
      }

      #root {
        width: 300px;
        height: 300px;
        background-color: lightpink;
      }

      #outer {
        width: 200px;
        height: 200px;
        text-align: center;
        background-color: lightcyan;
      }

      #inner {
        width: 100px;
        height: 100px;
        background-color: lightgreen;
      }

      .center {
        position: absolute;
        left: 50%;
        top: 50%;
        transform: translate(-50%, -50%);
      }
    </style>
  </head>
  <body>
    <div id="root" class="center">
      <div id="outer" class="center">
        <div id="inner" class="center"></div>
      </div>
    </div>

    <!-- <script>
      // å±‚çº§ç»“æ„ window -> document -> html -> body -> root -> outer -> inner
      // ev.stopPropagation é˜»æ­¢äº‹ä»¶çš„ä¼ æ’­ã€ŒåŒ…å«æ•è·å’Œå†’æ³¡ã€
      // ev.stopImmediatePropagation ä¹Ÿæ˜¯é˜»æ­¢äº‹ä»¶ä¼ æ’­ï¼Œåªä¸è¿‡å®ƒå¯ä»¥é˜»æ­¢å½“å‰å…ƒç´ ç»‘å®šçš„å…¶ä»–æ–¹æ³•ã€ŒåŒçº§çš„ã€ï¼Œå¦‚æœè¿˜æœªæ‰§è¡Œï¼Œä¹Ÿä¸ä¼šå†è®©å…¶æ‰§è¡Œï¼ï¼
      const html = document.documentElement,
        body = document.body,
        root = document.querySelector('#root'),
        outer = document.querySelector('#outer'),
        inner = document.querySelector('#inner')

      // ç¬¬ä¸‰ä¸ªå‚æ•° true æ•è·é˜¶æ®µè§¦å‘
      // ç¬¬ä¸‰ä¸ªå‚æ•° false å†’æ³¡é˜¶æ®µè§¦å‘
      root.addEventListener(
        'click',
        ev => {
          // ev.stopPropagation() // é˜»æ­¢ä¸‹æ–¹çš„æ•è·å’Œå†’æ³¡
          console.log('ğŸš€ ~ root.addEventListener ~ root:æ•è·')
        },
        true
      )
      root.addEventListener(
        'click',
        () => {
          console.log('ğŸš€ ~ root.addEventListener ~ root:å†’æ³¡')
        },
        false
      )

      outer.addEventListener(
        'click',
        () => {
          console.log('ğŸš€ ~ outer.addEventListener ~ outer:æ•è·')
        },
        true
      )
      outer.addEventListener(
        'click',
        () => {
          console.log('ğŸš€ ~ outer.addEventListener ~ outer:å†’æ³¡')
        },
        false
      )

      inner.addEventListener(
        'click',
        ev => {
          // ev.stopPropagation()
          console.log('ğŸš€ ~ inner.addEventListener ~ inner:æ•è·')
        },
        true
      )
      inner.addEventListener(
        'click',
        ev => {
          // ev.stopPropagation()
          ev.stopImmediatePropagation()
          console.log('ğŸš€ ~ inner.addEventListener ~ inner:å†’æ³¡1')
        },
        false
      )
      inner.addEventListener(
        'click',
        ev => {
          console.log('ğŸš€ ~ inner.addEventListener ~ inner:å†’æ³¡2')
        },
        false
      )
    </script> -->

    <script>
      /**
       * äº‹ä»¶å§”æ‰˜ï¼šåˆ©ç”¨äº‹ä»¶çš„ä¼ æ’­æœºåˆ¶ï¼Œå®ç°çš„ä¸€å¥—äº‹ä»¶ç»‘å®šå¤„ç†æ–¹æ¡ˆ
       *  ä¾‹å¦‚ï¼šä¸€ä¸ªå®¹å™¨ä¸­ï¼Œæœ‰å¾ˆå¤šå…ƒç´ éƒ½è¦åœ¨ç‚¹å‡»çš„æ—¶å€™åšä¸€äº›äº‹æƒ…
       *    ä¼ ç»Ÿæ–¹æ¡ˆï¼šé¦–å…ˆè·å–éœ€è¦æ“ä½œçš„å…ƒç´ ï¼Œç„¶åé€ä¸€åšäº‹ä»¶ç»‘å®š
       *    äº‹ä»¶å§”æ‰˜ï¼šåªéœ€è¦ç»™å®¹å™¨åšä¸€ä¸ªäº‹ä»¶ç»‘å®šã€Œç‚¹å‡»å†…éƒ¨çš„ä»»ä½•å…ƒç´ ï¼Œæ ¹æ®äº‹ä»¶çš„å†’æ³¡ä¼ æ’­æœºåˆ¶ï¼Œéƒ½ä¼šè®©å®¹å™¨çš„ç‚¹å‡»äº‹ä»¶è§¦å‘ï¼›æˆ‘ä»¬åœ¨è¿™é‡Œï¼Œæ ¹æ®äº‹ä»¶æºï¼Œåšä¸åŒçš„äº‹æƒ…å°±å¯ä»¥äº†ã€
       * ä¼˜åŠ¿ï¼š
       * 1ã€æå‡JSä»£ç è¿è¡Œæ€§èƒ½ï¼Œå¹¶ä¸”æŠŠå¤„ç†çš„é€»è¾‘éƒ½é›†ä¸­åœ¨ä¸€èµ·ï¼ï¼
       * 2ã€æŸäº›éœ€æ±‚å¿…é¡»åŸºäºäº‹ä»¶å§”æ‰˜å¤„ç†ï¼Œä¾‹å¦‚ï¼šé™¤äº†ç‚¹å‡»xxxå¤–ï¼Œç‚¹å‡»å…¶ä½™çš„ä»»ä½•ä¸œè¥¿ï¼Œéƒ½è¯¥åšä»€ä¹ˆå°±å»åšä»€ä¹ˆ
       * 3ã€ç»™åŠ¨æ€ç»‘å®šçš„å…ƒç´ åšäº‹ä»¶ç»‘å®šï¼Œä¾‹å¦‚ï¼šé€šè¿‡createElement()åˆ›å»ºçš„å…ƒç´ 
       * é™åˆ¶ï¼š
       * 1ã€å½“å‰æ“ä½œçš„äº‹ä»¶å¿…é¡»æ”¯æŒå†’æ³¡ä¼ æ’­æœºåˆ¶æ‰å¯ä»¥ï¼Œä¾‹å¦‚ï¼šmouseenter / mouseleave ç­‰äº‹ä»¶æ˜¯æ²¡æœ‰å†’æ³¡ä¼ æ’­æœºåˆ¶çš„
       * 2ã€å¦‚æœå•ç‹¬åšçš„äº‹ä»¶ç»‘å®šä¸­ï¼Œåšäº†äº‹ä»¶ä¼ æ’­æœºåˆ¶çš„é˜»æ­¢ï¼Œé‚£ä¹ˆäº‹ä»¶å§”æ‰˜ä¸­çš„æ“ä½œä¹Ÿä¸ä¼šç”Ÿæ•ˆï¼ï¼
       */

      const body = document.body
      body.addEventListener('click', ev => {
        // ev.targetï¼šäº‹ä»¶æºã€Œç‚¹å‡»çš„æ˜¯è°ï¼Œè°å°±æ˜¯äº‹ä»¶æºã€
        const target = ev.target,
          id = target.id
        switch (id) {
          case 'root':
            console.log('ğŸš€ ~ root:')
            break
          case 'outer':
            console.log('ğŸš€ ~ outer:')
            break
          case 'inner':
            console.log('ğŸš€ ~ inner:')
            break
          default:
            break
        }
      })
      // å•ç‹¬åšçš„äº‹ä»¶ç»‘å®šä¸­ï¼Œåšäº†äº‹ä»¶ä¼ æ’­æœºåˆ¶çš„é˜»æ­¢ å°±ä¼šé˜»æ­¢ä¸Šæ–¹çš„ä»£ç æ‰§è¡Œ
      const outer = document.querySelector('#outer')
      outer.addEventListener('click', ev => {
        ev.stopPropagation()
        console.log('ğŸš€ ~ outer.addEventListener ~ outer:å†’æ³¡')
      })

      // ä¼ ç»Ÿæ–¹æ¡ˆ
      /* const html = document.documentElement,
        body = document.body,
        root = document.querySelector('#root'),
        outer = document.querySelector('#outer'),
        inner = document.querySelector('#inner')

      root.addEventListener('click', ev => {
        console.log('ğŸš€ ~ root.addEventListener ~ root:å†’æ³¡')
      })
      outer.addEventListener('click', ev => {
        console.log('ğŸš€ ~ outer.addEventListener ~ outer:å†’æ³¡')
      })
      inner.addEventListener('click', ev => {
        console.log('ğŸš€ ~ inner.addEventListener ~ inner:å†’æ³¡')
      }) */
    </script>
  </body>
</html>
